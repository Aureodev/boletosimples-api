---
layout: pt
title: Notificações - API do Boleto Simples
en: /en/notifications
---

<article>

  <h2>Notificações</h2>

  <p>O Boleto Simples envia notificações para um sistema externo após algum evento ocorrer no boleto.</p>

  <p>
    Essas notificações são realizadas através de uma requisição
    <code>HTTP POST</code> no endereço configurado no
    boleto ou na conta do usuário através do campo <code>notification_url</code>.
  </p>

  <div class="alert alert-info">Os logs das notificações realizadas são salvos em nossa base de dados.</div>

  <h3>Requisição</h3>

  <p>Parâmetros passados:</p>
  <pre class="bash">{
  "id": 1,
  "event": "status-changed",
  "status": "paid",
}</pre>

  <p>Onde:</p>
  <ul>
    <li><code>id</code> - Identificador do registro no Boleto Simples.</li>
    <li><code>event</code> - Evento que modificou alguma informação no boleto. Por hora o único possível valor é <code>status-changed</code>. Este campo irá ser usado nas próximas implementações de notificações.</li>
    <li><code>status</code> - Status do boleto bancário, cujos possíveis valores são: <code>generating</code>, <code>opened</code>, <code>paid</code>, <code>canceled</code>.</li>
  </ul>

  <h3>Retorno</h3>
  <p>O sistema espera que a requisição retorne o status code <code>200 OK</code>. Caso a requisição retorne erro, ou seja, status code <code>5XX</code> o sistema irá continuar tentando realizar a requisição. Caso a requisição bloqueia por falha na autenticação, ou seja status code <code>4XX</code>, o sistema irá ignorar a requisição e não tentará novamente.</p>

  <h3>Exemplo</h3>

  <p>Considerando que o valor do <code>notification_url</code> passado na criação do boleto bancário foi <strong>http://seudominio.com.br/boletosimples</strong>, a requisição relizada e a resposta esperada são iguais as definidas abaixo.</p>

  <small>Requisição:</small>
  <pre class="bash">
curl -I \
-D '{"id": 1, "event": "status-changed", "status": "paid"}' \
-X POST \
http://seudominio.com.br/boletosimples
  </pre>
  <small>Resposta:</small>
  <pre class="json">
HTTP/1.1 200 OK
Date: Fri, 05 Nov 2010 12:00:00 GMT
Content-Type: text/html; charset=utf-8
Status: 200 OK
  </pre>

</article>